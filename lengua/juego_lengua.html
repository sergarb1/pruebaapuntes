<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Sintaxis Mastery: Century Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
    <style>
        :root { --bg: #020617; }
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); overflow: hidden; font-family: 'Outfit', sans-serif; display: flex; justify-content: center; align-items: center; height: 100dvh; width: 100vw; }
        #game-container { width: 100%; height: 100%; }
    </style>
</head>
<body>
    <div id="game-container"></div>
    <script>
        // --- ðŸ“Š BANCO DE DATOS MAESTRO (100 EJERCICIOS) ---
        const MASTER_DATABASE = [
            // BLOQUE 1: ORACIÃ“N SIMPLE (1-30)
            { s: "Me gustan mucho los libros de aventuras.", q: "Â¿CuÃ¡l es el SUJETO de esta oraciÃ³n?", ops: ["Yo (elidido)", "Me", "Los libros de aventuras"], ok: 2, ana: "Sujeto: Concuerda en nÃºmero con el verbo (Gusta -> Gustan).", adv: "TRUCO: Â¡Nunca preguntes 'QuiÃ©n'! Si cambias el verbo a singular, el sujeto cambia." },
            { s: "ConfÃ­o plenamente en tus posibilidades de Ã©xito.", q: "Â¿QuÃ© funciÃ³n cumple 'EN TUS POSIBILIDADES'?", ops: ["C. RÃ©gimen", "C. Indirecto", "CC de Modo"], ok: 0, ana: "C. RÃ©gimen: El verbo 'confiar' exige la preposiciÃ³n 'en'.", adv: "TRUCO: Si quitas la preposiciÃ³n 'en', la frase pierde el sentido." },
            { s: "La noticia fue difundida por todos los medios.", q: "Identifica la funciÃ³n de 'POR TODOS LOS MEDIOS'.", ops: ["CC de Lugar", "C. Agente", "C. Indirecto"], ok: 1, ana: "C. Agente: Indica quiÃ©n realiza la acciÃ³n en una oraciÃ³n pasiva.", adv: "TRUCO: Siempre empieza por 'POR' y el verbo es pasivo (SER + Participio)." },
            { s: "Ayer me encontrÃ© a tu hermano muy cansado.", q: "Analiza la funciÃ³n de 'A TU HERMANO'.", ops: ["C. Indirecto", "C. Directo", "Sujeto"], ok: 1, ana: "CD de persona: Lleva 'a' por ser persona determinada.", adv: "TRUCO: Sustituye por LO. 'Ayer LO encontrÃ©'. Es CD." },
            { s: "Juan le dio un regalo a su amiga.", q: "Analiza la funciÃ³n de 'A SU AMIGA'.", ops: ["C. Directo", "C. Indirecto", "Atributo"], ok: 1, ana: "CI: Destinatario de la acciÃ³n del verbo.", adv: "TRUCO: Sustituye por 'LE'. 'Juan LE dio un regalo'." },
            { s: "HabÃ­a muchas personas esperando en la puerta.", q: "Identifica el SUJETO de esta oraciÃ³n.", ops: ["Muchas personas", "Ellos (elidido)", "No tiene (Impersonal)"], ok: 2, ana: "OraciÃ³n Impersonal: El verbo 'haber' en 3Âª sing. indicando existencia no tiene sujeto.", adv: "TRUCO: Nunca pongas 'HabÃ­an'. 'Muchas personas' es el CD (Las habÃ­a)." },
            { s: "Los niÃ±os corren alegres por el parque.", q: "Â¿QuÃ© funciÃ³n cumple la palabra 'ALEGRES'?", ops: ["CC de Modo", "C. Predicativo", "Atributo"], ok: 1, ana: "C. Predicativo: Adjetivo que concuerda con el sujeto 'los niÃ±os'.", adv: "TRUCO: Si fuera 'La niÃ±a', dirÃ­amos 'alegre'. Si cambia â†’ Predicativo." },
            { s: "Luis es un excelente pianista.", q: "Analiza 'UN EXCELENTE PIANISTA'.", ops: ["C. Directo", "Atributo", "C. Predicativo"], ok: 1, ana: "Atributo: Complemento necesario con verbos copulativos (Ser, Estar, Parecer).", adv: "TRUCO: CÃ¡mbialo por 'LO'. 'Luis LO es'." },
            { s: "CortÃ³ el pan con un cuchillo de sierra.", q: "FunciÃ³n de 'CON UN CUCHILLO'.", ops: ["CC de Modo", "CC de Instrumento", "C. RÃ©gimen"], ok: 1, ana: "CC de Instrumento: Indica la herramienta usada para la acciÃ³n.", adv: "TRUCO: Responde a Â¿Con quÃ© hizo la acciÃ³n?" },
            { s: "Se arrepintiÃ³ de no haber ido al cine.", q: "FunciÃ³n de 'DE NO HABER IDO...'", ops: ["C. Directo", "C. RÃ©gimen", "CI"], ok: 1, ana: "C. RÃ©gimen: El verbo 'arrepentirse' exige la preposiciÃ³n 'de'.", adv: "TRUCO: Â¿De quÃ© se arrepintiÃ³? De eso. Mantiene la preposiciÃ³n." },
            { s: "Le entregÃ³ las llaves a la conserje.", q: "FunciÃ³n de 'LA CONSERJE'.", ops: ["CD", "CI", "CC Persona"], ok: 1, ana: "Complemento Indirecto: Recibe la acciÃ³n.", adv: "TIP: 'LE entregÃ³ las llaves'. LE = conserje." },
            { s: "Nombraron delegada a mi prima.", q: "FunciÃ³n de 'DELEGADA'.", ops: ["Atributo", "C. Predicativo", "CC Modo"], ok: 1, ana: "CPred: Se refiere al CD (mi prima) y concuerda.", adv: "TIP: Si fuera 'a mi primo', serÃ­a 'delegado'." },
            { s: "Esa casa es de madera.", q: "FunciÃ³n de 'DE MADERA'.", ops: ["Atributo", "CC Modo", "C. RÃ©gimen"], ok: 0, ana: "Atributo: Sintagma preposicional tras verbo copulativo.", adv: "TIP: Â¿CÃ³mo es la casa? De madera. Sustituye: 'Esa casa LO es'." },
            { s: "El atleta corre rÃ¡pido.", q: "FunciÃ³n de 'RÃPIDO'.", ops: ["C. Predicativo", "CC Modo", "Atributo"], ok: 1, ana: "CC Modo: Adverbio invariable.", adv: "TIP: Si fuera 'Los atletas', seguirÃ­a siendo 'rÃ¡pido'. No concuerda." },
            { s: "Luis se parece a su padre.", q: "FunciÃ³n de 'A SU PADRE'.", ops: ["CI", "Atributo", "C. RÃ©gimen"], ok: 1, ana: "Atributo: Con el verbo parecer.", adv: "TIP: 'Luis lo parece'. Es atributo aunque lleve 'a'." },
            { s: "MaÃ±ana lloverÃ¡ en Madrid.", q: "Sujeto de la oraciÃ³n.", ops: ["MaÃ±ana", "Madrid", "No tiene"], ok: 2, ana: "Impersonal meteorolÃ³gica.", adv: "TIP: Verbos de clima no llevan sujeto." },
            { s: "Se oye un ruido extraÃ±o.", q: "Sujeto de la oraciÃ³n.", ops: ["Un ruido extraÃ±o", "Ã‰l (elidido)", "No tiene"], ok: 0, ana: "Pasiva Refleja: El ruido es el sujeto.", adv: "TIP: Prueba: 'Se oyen ruidos extraÃ±os'. Verbo cambia = Sujeto." },
            { s: "La bicicleta fue robada anoche.", q: "Sujeto de la oraciÃ³n.", ops: ["Anoche", "La bicicleta", "No tiene"], ok: 1, ana: "Sujeto Paciente: Recibe la acciÃ³n en pasiva.", adv: "TIP: Concuerda con 'fue robada'." },
            { s: "Me duele la cabeza.", q: "Sujeto de la oraciÃ³n.", ops: ["Me", "La cabeza", "Yo"], ok: 1, ana: "La cabeza (Sujeto) concuerda con Duele.", adv: "TIP: Â¡Cuidado! 'Me' es CI. 'Me duelen las piernas' (Plural)." },
            { s: "HacÃ­a un calor insoportable.", q: "FunciÃ³n de 'UN CALOR INSOPORTABLE'.", ops: ["Sujeto", "CD", "CC Modo"], ok: 1, ana: "Complemento Directo: 'Lo hacÃ­a'.", adv: "TIP: Verbo 'Hacer' de clima es impersonal. No tiene sujeto." },
            { s: "EntregÃ³ el paquete con cuidado.", q: "FunciÃ³n de 'CON CUIDADO'.", ops: ["CC Modo", "CC Instrumento", "C. RÃ©gimen"], ok: 0, ana: "Complemento Circunstancial de Modo.", adv: "TIP: Â¿CÃ³mo lo entregÃ³?" },
            { s: "Dedica su tiempo a la lectura.", q: "FunciÃ³n de 'A LA LECTURA'.", ops: ["CI", "C. RÃ©gimen", "CC Finalidad"], ok: 1, ana: "C. RÃ©gimen: Dedicar algo A algo.", adv: "TIP: La preposiciÃ³n es necesaria." },
            { s: "Se fuma mucho aquÃ­.", q: "FunciÃ³n de 'MUCHO'.", ops: ["CC Cantidad", "CD", "Sujeto"], ok: 0, ana: "Complemento Circunstancial de Cantidad.", adv: "TIP: Indica intensidad." },
            { s: "Este libro trata de historia.", q: "FunciÃ³n de 'DE HISTORIA'.", ops: ["Atributo", "CD", "C. RÃ©gimen"], ok: 2, ana: "C. RÃ©gimen: Tratar DE algo.", adv: "TIP: Sin 'de' no funciona." },
            { s: "LlegÃ³ muy tarde a casa.", q: "FunciÃ³n de 'MUY TARDE'.", ops: ["CC Lugar", "CC Tiempo", "CC Modo"], ok: 1, ana: "Complemento Circunstancial de Tiempo.", adv: "TIP: Â¿CuÃ¡ndo llegÃ³?" },
            { s: "Ana comprÃ³ pan a Luis ayer.", q: "FunciÃ³n de 'PAN'.", ops: ["Sujeto", "CD", "CI"], ok: 1, ana: "CD: Lo comprÃ³.", adv: "TIP: Objeto directo de la compra." },
            { s: "Ana comprÃ³ pan a Luis ayer.", q: "FunciÃ³n de 'A LUIS'.", ops: ["CD", "CI", "CC Persona"], ok: 1, ana: "CI: Le comprÃ³ pan.", adv: "TIP: Destinatario." },
            { s: "Fue felicitado por sus amigos.", q: "FunciÃ³n de 'POR SUS AMIGOS'.", ops: ["CC Causa", "C. Agente", "Sujeto"], ok: 1, ana: "Complemento Agente en pasiva.", adv: "TIP: Empieza por 'por' y hace la acciÃ³n." },
            { s: "La tarta es para MarÃ­a.", q: "FunciÃ³n de 'PARA MARÃA'.", ops: ["Atributo", "CI", "CC Destino"], ok: 0, ana: "Atributo: Tras verbo 'ser'.", adv: "TIP: 'La tarta LO es'." },
            { s: "Trajeron el sofÃ¡ ayer.", q: "Analiza 'EL SOFÃ'.", ops: ["Sujeto", "CD", "CC Lugar"], ok: 1, ana: "CD: Lo trajeron.", adv: "TIP: PÃ¡salo a pasiva: 'El sofÃ¡ fue traÃ­do'." },

            // BLOQUE 2: VALORES DEL SE (31-50)
            { s: "Se venden pisos de lujo.", q: "Valor del SE.", ops: ["Pasiva Refleja", "Impersonal", "Pronominal"], ok: 0, ana: "Pasiva Refleja: Pisos (Sujeto) concuerda.", adv: "TIP: Verbo plural -> Sujeto plural." },
            { s: "Se vive bien aquÃ­.", q: "Valor del SE.", ops: ["Pasiva Refleja", "Impersonal", "Reflexivo"], ok: 1, ana: "Impersonal: No admite sujeto.", adv: "TIP: Verbo siempre singular." },
            { s: "Ella se lava la cara.", q: "Valor del SE.", ops: ["Reflexivo (CD)", "Reflexivo (CI)", "RecÃ­proco"], ok: 1, ana: "Reflexivo CI: Ya hay un CD (la cara).", adv: "TIP: Ella se lava a sÃ­ misma." },
            { s: "Los novios se miran.", q: "Valor del SE.", ops: ["Reflexivo", "RecÃ­proco", "Dativo"], ok: 1, ana: "RecÃ­proco: El uno al otro.", adv: "TIP: AcciÃ³n mutua." },
            { s: "Se arrepintiÃ³ pronto.", q: "Valor del SE.", ops: ["Pronominal", "Reflexivo", "Pasiva Refleja"], ok: 0, ana: "Pronominal: Va con el verbo.", adv: "TIP: No existe el verbo 'arrepentir'." },
            { s: "Se comiÃ³ tres pizzas.", q: "Valor del SE.", ops: ["Pronominal", "Dativo Ã‰tico", "Impersonal"], ok: 1, ana: "Dativo Ã‰tico: EnfÃ¡tico.", adv: "TIP: Se puede quitar: 'ComiÃ³ tres pizzas'." },
            { s: "Se lo di ayer.", q: "Valor del SE.", ops: ["Reflexivo", "Falso SE", "RecÃ­proco"], ok: 1, ana: "Falso SE: Sustituye a 'le'.", adv: "TIP: 'Le lo di' -> Se lo di." },
            { s: "Se marchÃ³ a las cinco.", q: "Valor del SE.", ops: ["Reflexivo", "Pronominal", "Impersonal"], ok: 1, ana: "Pronominal: Marcharse.", adv: "TIP: El 'se' indica inicio de acciÃ³n." },
            { s: "Se busca empleado.", q: "Valor del SE.", ops: ["Pasiva Refleja", "Impersonal", "Reflexivo"], ok: 0, ana: "Pasiva Refleja: Empleado es buscado.", adv: "TIP: Plural: 'Se buscan empleados'. Concuerda -> Pasiva Refleja." },
            { s: "Se habla espaÃ±ol.", q: "Valor del SE.", ops: ["Pasiva Refleja", "Impersonal", "Dativo"], ok: 0, ana: "Pasiva Refleja: El espaÃ±ol es hablado.", adv: "TIP: Concuerda con el verbo." },
            { s: "Se duchÃ³ con agua frÃ­a.", q: "Valor del SE.", ops: ["Reflexivo (CD)", "Reflexivo (CI)", "Pronominal"], ok: 0, ana: "Reflexivo CD: Se ducha a sÃ­ mismo.", adv: "TIP: El 'se' es el objeto directo." },
            { s: "Se olvidÃ³ las llaves.", q: "Valor del SE.", ops: ["Pronominal", "Dativo", "Reflexivo"], ok: 0, ana: "Pronominal: Olvidarse de algo.", adv: "TIP: Va con el verbo obligatoriamente." },
            { s: "Se repartieron los premios.", q: "Valor del SE.", ops: ["RecÃ­proco", "Pasiva Refleja", "Impersonal"], ok: 1, ana: "Pasiva Refleja: Premios (Sujeto) concuerda.", adv: "TIP: 'Fueron repartidos'." },
            { s: "Se saludaron en el portal.", q: "Valor del SE.", ops: ["Reflexivo", "RecÃ­proco", "Dativo"], ok: 1, ana: "RecÃ­proco: AcciÃ³n mutua.", adv: "TIP: El uno al otro." },
            { s: "Se bebiÃ³ el vaso de un trago.", q: "Valor del SE.", ops: ["Reflexivo", "Dativo Ã‰tico", "Pronominal"], ok: 1, ana: "Dativo Ã‰tico: Indica interÃ©s o Ã©nfasis.", adv: "TIP: Se puede omitir." },
            { s: "Se queja por todo.", q: "Valor del SE.", ops: ["Pronominal", "Impersonal", "Reflexivo"], ok: 0, ana: "Pronominal: Quejarse.", adv: "TIP: Verbo de emociÃ³n o estado." },
            { s: "Se alquila habitaciÃ³n.", q: "Valor del SE.", ops: ["Pasiva Refleja", "Impersonal", "Falso SE"], ok: 0, ana: "Pasiva Refleja: La habitaciÃ³n es alquilada.", adv: "TIP: Pluraliza: 'Se alquilan habitaciones'." },
            { s: "Se despertÃ³ temprano.", q: "Valor del SE.", ops: ["Reflexivo", "Pronominal", "Impersonal"], ok: 1, ana: "Pronominal: Despertarse.", adv: "TIP: Indica cambio de estado." },
            { s: "No se sabe nada.", q: "Valor del SE.", ops: ["Impersonal", "Pasiva Refleja", "Pronominal"], ok: 1, ana: "Pasiva Refleja: Nada es sabido.", adv: "TIP: 'No se saben las cosas'. Concuerda." },
            { s: "Se afeita cada maÃ±ana.", q: "Valor del SE.", ops: ["Reflexivo (CD)", "Reflexivo (CI)", "RecÃ­proco"], ok: 0, ana: "Reflexivo CD: A sÃ­ mismo.", adv: "TIP: Ã‰l es el objeto de la acciÃ³n." },

            // BLOQUE 3: ORACIÃ“N COMPUESTA (51-100)
            { s: "El profesor considera brillante tu trabajo.", q: "FunciÃ³n de 'BRILLANTE'.", ops: ["Atributo", "CPred del CD", "CC Modo"], ok: 1, ana: "CPred: Califica al CD.", adv: "TIP: Cambia a 'tus trabajos' -> 'brillantes'." },
            { s: "Dijo que vendrÃ­a pronto.", q: "Tipo de subordinada.", ops: ["Sustantiva", "Adjetiva", "Adverbial"], ok: 0, ana: "Sustantiva: 'Dijo ESO'.", adv: "TIP: Reemplaza por ESO." },
            { s: "El tren que sale llega tarde.", q: "Tipo de subordinada.", ops: ["Sustantiva", "Adjetiva", "Adverbial"], ok: 1, ana: "Adjetiva: 'El cual sale'.", adv: "TIP: Reemplaza por EL CUAL." },
            { s: "No vino porque estaba enfermo.", q: "Tipo de adverbial.", ops: ["Causal", "Consecutiva", "Final"], ok: 0, ana: "Causal: Indica el motivo.", adv: "TIP: Responde a Â¿Por quÃ©?" },
            { s: "LlegÃ³ donde le indicaste.", q: "Tipo de adverbial.", ops: ["Lugar", "Tiempo", "Modo"], ok: 0, ana: "Lugar: Indica espacio.", adv: "TIP: 'LlegÃ³ ALLÃ'." },
            { s: "Hazlo como te dije.", q: "Tipo de adverbial.", ops: ["Modo", "Tiempo", "Lugar"], ok: 0, ana: "Modo: Indica manera.", adv: "TIP: 'Hazlo ASÃ'." },
            { s: "Cuando termines, avÃ­same.", q: "Tipo de adverbial.", ops: ["Tiempo", "Causal", "Final"], ok: 0, ana: "Tiempo: Indica momento.", adv: "TIP: 'ENTONCES avÃ­same'." },
            { s: "EstudiÃ³ mucho, pero no aprobÃ³.", q: "Tipo de coordinada.", ops: ["Adversativa", "Copulativa", "Disyuntiva"], ok: 0, ana: "Adversativa: Nexo pero.", adv: "TIP: OposiciÃ³n." },
            { s: "O vienes o te quedas.", q: "Tipo de coordinada.", ops: ["Disyuntiva", "Distributiva", "Copulativa"], ok: 0, ana: "Disyuntiva: ElecciÃ³n.", adv: "TIP: Nexo O." },
            { s: "Es decir, habla mucho.", q: "Tipo de coordinada.", ops: ["Explicativa", "Consecutiva", "Copulativa"], ok: 0, ana: "Explicativa: Aclara.", adv: "TIP: Nexo ES DECIR." },
            { s: "Pienso, luego existo.", q: "Tipo de coordinada.", ops: ["Consecutiva", "Causal", "Final"], ok: 0, ana: "Consecutiva: Resultado.", adv: "TIP: Nexo LUEGO." },
            { s: "ComiÃ³ tanto que enfermÃ³.", q: "Tipo de subordinada.", ops: ["Consecutiva", "Causal", "Final"], ok: 0, ana: "Consecutiva: Consecuencia de grado.", adv: "TIP: TAN... QUE." },
            { s: "Es tan alto como tÃº.", q: "Tipo de subordinada.", ops: ["Comparativa", "Modo", "Consecutiva"], ok: 0, ana: "Comparativa: Igualdad.", adv: "TIP: TAN... COMO." },
            { s: "Te llamo para que vengas.", q: "Tipo de subordinada.", ops: ["Final", "Causal", "Consecutiva"], ok: 0, ana: "Final: PropÃ³sito.", adv: "TIP: Â¿Para quÃ©?" },
            { s: "Si vienes, te invito.", q: "Tipo de subordinada.", ops: ["Condicional", "Concesiva", "Causal"], ok: 0, ana: "Condicional: Requisito.", adv: "TIP: Nexo SI." },
            { s: "Aunque llueva, irÃ©.", q: "Tipo de subordinada.", ops: ["Concesiva", "Causal", "Final"], ok: 0, ana: "Concesiva: ObstÃ¡culo.", adv: "TIP: Nexo AUNQUE." },
            { s: "Dime quiÃ©n ha venido.", q: "FunciÃ³n de la subordinada.", ops: ["CD", "Sujeto", "CI"], ok: 0, ana: "Sustantiva de CD: 'DÃ­melo'.", adv: "TIP: Interrogativa indirecta." },
            { s: "Es fÃ¡cil aprobar asÃ­.", q: "Sujeto de la oraciÃ³n.", ops: ["FÃ¡cil", "Aprobar asÃ­", "No tiene"], ok: 1, ana: "Subordinada de infinitivo Sujeto.", adv: "TIP: 'ESO es fÃ¡cil'." },
            { s: "Me alegro de que estÃ©s bien.", q: "FunciÃ³n de la subordinada.", ops: ["C. RÃ©gimen", "CD", "Atributo"], ok: 0, ana: "Sustantiva de C. RÃ©gimen.", adv: "TIP: 'Me alegro DE ESO'." },
            { s: "El chico que rÃ­e es Luis.", q: "FunciÃ³n de 'QUE'.", ops: ["Sujeto", "CD", "Nexo"], ok: 0, ana: "Pronombre relativo Sujeto.", adv: "TIP: 'El chico rÃ­e'." },
            { s: "Deseo que seas feliz.", q: "FunciÃ³n de la subordinada.", ops: ["CD", "Sujeto", "Atributo"], ok: 0, ana: "Sustantiva de CD: 'Lo deseo'.", adv: "TIP: Reemplaza por ESO." },
            { s: "Luis vive donde puede.", q: "FunciÃ³n de la subordinada.", ops: ["CC Lugar", "CD", "Sujeto"], ok: 0, ana: "Adverbial de Lugar.", adv: "TIP: 'Vive ALLÃ'." },
            { s: "Lo hice segÃºn me dijiste.", q: "Tipo de adverbial.", ops: ["Modo", "Tiempo", "Causal"], ok: 0, ana: "Adverbial de Modo.", adv: "TIP: 'Lo hice ASÃ'." },
            { s: "Trabaja para ganar dinero.", q: "Tipo de adverbial.", ops: ["Final", "Consecutiva", "Causal"], ok: 0, ana: "Adverbial Final (Infinitivo).", adv: "TIP: Finalidad de la acciÃ³n." },
            { s: "Te verÃ© en cuanto llegue.", q: "Tipo de adverbial.", ops: ["Tiempo", "Lugar", "Modo"], ok: 0, ana: "Adverbial de Tiempo.", adv: "TIP: Momento de la acciÃ³n." },
            { s: "Por mÃ¡s que grites, no irÃ©.", q: "Tipo de subordinada.", ops: ["Concesiva", "Causal", "Consecutiva"], ok: 0, ana: "Adverbial Concesiva.", adv: "TIP: ObstÃ¡culo que no impide." },
            { s: "Dado que no vienes, me voy.", q: "Tipo de subordinada.", ops: ["Causal", "Final", "Consecutiva"], ok: 0, ana: "Adverbial Causal.", adv: "TIP: Causa o motivo." },
            { s: "Tanto gritÃ³ que quedÃ³ afÃ³nico.", q: "Tipo de subordinada.", ops: ["Consecutiva", "Causal", "Comparativa"], ok: 0, ana: "Subordinada Consecutiva.", adv: "TIP: Consecuencia del exceso." },
            { s: "Es mÃ¡s listo que el hambre.", q: "Tipo de subordinada.", ops: ["Comparativa", "Consecutiva", "Modo"], ok: 0, ana: "Subordinada Comparativa.", adv: "TIP: MÃS... QUE." },
            { s: "SalÃ­ antes de que amaneciera.", q: "Tipo de adverbial.", ops: ["Tiempo", "Lugar", "Modo"], ok: 0, ana: "Adverbial de Tiempo.", adv: "TIP: Indica momento." },
            { s: "Quienes lleguen tarde no entran.", q: "Sujeto de la oraciÃ³n.", ops: ["Quienes lleguen tarde", "Ellos", "No tiene"], ok: 0, ana: "S. Adjetiva Sustantivada Sujeto.", adv: "TIP: 'ESOS no entran'." },
            { s: "Dime dÃ³nde vives.", q: "FunciÃ³n de la subordinada.", ops: ["CD", "Sujeto", "CC Lugar"], ok: 0, ana: "Sustantiva CD (Interrogativa).", adv: "TIP: 'DÃ­melo'." },
            { s: "La idea de ir me gusta.", q: "FunciÃ³n de 'DE IR'.", ops: ["C. Nombre", "C. RÃ©gimen", "Sujeto"], ok: 0, ana: "Sustantiva de C. Nombre.", adv: "TIP: Califica a 'Idea'." },
            { s: "Estoy harto de esperar.", q: "FunciÃ³n de 'DE ESPERAR'.", ops: ["C. Adjetivo", "C. RÃ©gimen", "CD"], ok: 0, ana: "Sustantiva de C. Adjetivo.", adv: "TIP: Califica a 'Harto'." },
            { s: "Cerca de donde vives hay un bar.", q: "FunciÃ³n de 'DONDE VIVES'.", ops: ["C. Adverbio", "CC Lugar", "CD"], ok: 0, ana: "Sustantiva de C. Adverbio.", adv: "TIP: Califica a 'Cerca'." },
            { s: "Que digas eso es feo.", q: "FunciÃ³n de la subordinada.", ops: ["Sujeto", "CD", "Atributo"], ok: 0, ana: "Sustantiva de Sujeto.", adv: "TIP: 'ESO es feo'." },
            { s: "Luis parece que estÃ¡ enfermo.", q: "FunciÃ³n de la subordinada.", ops: ["Atributo", "Sujeto", "CD"], ok: 0, ana: "Sustantiva de Atributo.", adv: "TIP: 'Luis LO parece'." },
            { s: "Mi meta es que apruebes.", q: "FunciÃ³n de la subordinada.", ops: ["Atributo", "CD", "Sujeto"], ok: 0, ana: "Sustantiva de Atributo.", adv: "TIP: 'Mi meta LO es'." },
            { s: "Le importa que seas feliz.", q: "FunciÃ³n de la subordinada.", ops: ["Sujeto", "CD", "CI"], ok: 0, ana: "Sustantiva de Sujeto.", adv: "TIP: 'ESO le importa'." },
            { s: "No sÃ© si vendrÃ¡.", q: "FunciÃ³n de la subordinada.", ops: ["CD", "Sujeto", "CC Duda"], ok: 0, ana: "Sustantiva CD (Dubitativa).", adv: "TIP: 'No LO sÃ©'." },
            { s: "Te darÃ© lo que pidas.", q: "FunciÃ³n de 'LO QUE PIDAS'.", ops: ["CD", "CI", "Sujeto"], ok: 0, ana: "Adjetiva Sustantivada CD.", adv: "TIP: 'Te darÃ© ESO'." },
            { s: "Ayuda a quien lo necesite.", q: "FunciÃ³n de 'A QUIEN LO NECESITE'.", ops: ["CD", "CI", "CC Persona"], ok: 0, ana: "Adjetiva Sustantivada CD.", adv: "TIP: 'AyÃºdalo'." },
            { s: "El que venga, cobrarÃ¡.", q: "FunciÃ³n de 'EL QUE VENGA'.", ops: ["Sujeto", "CD", "Atributo"], ok: 0, ana: "Adjetiva Sustantivada Sujeto.", adv: "TIP: 'ESE cobrarÃ¡'." },
            { s: "La razÃ³n por que lo hice es secreta.", q: "Tipo de subordinada.", ops: ["Adjetiva", "Sustantiva", "Causal"], ok: 0, ana: "Adjetiva: 'La cual'.", adv: "TIP: El relativo lleva antecedente." },
            { s: "Habla que da gusto.", q: "Tipo de subordinada.", ops: ["Consecutiva", "Modo", "Copulativa"], ok: 0, ana: "Subordinada Consecutiva.", adv: "TIP: Indica consecuencia del habla." },
            { s: "Como no vengas, me enfado.", q: "Tipo de subordinada.", ops: ["Condicional", "Causal", "Modo"], ok: 0, ana: "Adverbial Condicional.", adv: "TIP: Equivale a SI NO VIENES." },
            { s: "Siendo asÃ­ las cosas, me voy.", q: "Tipo de subordinada.", ops: ["Causal", "Condicional", "Tiempo"], ok: 0, ana: "Adverbial Causal (Gerundio).", adv: "TIP: Indica el motivo." },
            { s: "A fuerza de insistir, lo logrÃ³.", q: "Tipo de subordinada.", ops: ["Causal", "Modal", "Final"], ok: 0, ana: "Adverbial Causal.", adv: "TIP: Indica la causa." },
            { s: "Con ser listo, no aprueba.", q: "Tipo de subordinada.", ops: ["Concesiva", "Condicional", "Modal"], ok: 0, ana: "Adverbial Concesiva.", adv: "TIP: Equivale a AUNQUE SEA LISTO." },
            { s: "Me voy, que tengo prisa.", q: "Tipo de subordinada.", ops: ["Causal", "Consecutiva", "Final"], ok: 0, ana: "Adverbial Causal.", adv: "TIP: Equivale a PORQUE TENGO PRISA." }
        ];

        // --- ðŸŽ® MOTOR ACADEMY LANDSCAPE (PHASER 3) ---

        class Boot extends Phaser.Scene {
            constructor() { super('Boot'); }
            create() {
                const gfx = this.make.graphics({x:0, y:0, add:false});
                gfx.fillStyle(0xffffff); gfx.fillRoundedRect(0,0,100,100,30);
                gfx.generateTexture('card', 100, 100);
                this.scene.start('Menu');
            }
        }

        class Menu extends Phaser.Scene {
            constructor() { super('Menu'); }
            create() {
                this.cameras.main.setBackgroundColor('#020617');
                this.add.text(this.scale.width/2, this.scale.height*0.3, "SINTAXIS MASTER", {
                    fontFamily: 'Outfit', fontSize: '120px', fontWeight: '900', color: '#fff'
                }).setOrigin(0.5).setShadow(0, 10, '#38bdf8', 20, true, true);

                this.createBtn(this.scale.width/2, this.scale.height*0.65, "COMENZAR RETO", 0x38bdf8, () => this.scene.start('Play'));
                
                this.add.text(this.scale.width/2, this.scale.height*0.85, "Century Edition: 100 Retos Aleatorios disponibles.", {
                    fontFamily: 'Outfit', fontSize: '24px', color: '#94a3b8'
                }).setOrigin(0.5);
            }

            createBtn(x, y, txt, color, cb) {
                const c = this.add.container(x, y);
                const bg = this.add.nineslice(0, 0, 'card', 0, 600, 120, 30, 30, 30, 30).setTint(color);
                const t = this.add.text(0, 0, txt, { fontFamily: 'Outfit', fontSize: '42px', fontWeight: '800', color: '#020617' }).setOrigin(0.5);
                c.add([bg, t]);
                c.setSize(600, 120).setInteractive().on('pointerdown', () => {
                    this.tweens.add({ targets: c, scale: 0.95, duration: 80, yoyo: true, onComplete: cb });
                });
                return c;
            }
        }

        class Play extends Phaser.Scene {
            constructor() { super('Play'); }
            init() {
                this.score = 0; this.qIdx = 0; this.lives = 3; this.isPaused = false;
                // SELECCIÃ“N DE 10 PREGUNTAS ALEATORIAS
                this.qs = [...MASTER_DATABASE].sort(() => Math.random() - 0.5).slice(0, 10);
            }

            create() {
                this.cameras.main.setBackgroundColor('#020617');
                this.header = this.add.graphics().fillStyle(0x0f172a).fillRect(0, 0, this.scale.width, 100);
                this.sTxt = this.add.text(40, 50, `PTS: 0`, { fontFamily: 'Outfit', fontSize: '32px', fontWeight: '800', color: '#38bdf8' }).setOrigin(0, 0.5);
                this.lTxt = this.add.text(this.scale.width - 40, 50, `â¤â¤â¤`, { fontSize: '40px' }).setOrigin(1, 0.5);
                
                this.progressBg = this.add.graphics().fillStyle(0x1e293b).fillRoundedRect(this.scale.width/2 - 200, 45, 400, 10, 5);
                this.progressFill = this.add.graphics();
                
                this.showQuestion();
            }

            showQuestion() {
                if (this.qIdx >= 10) { this.scene.start('End', { s: this.score }); return; }
                const data = this.qs[this.qIdx];
                this.mainCont = this.add.container(this.scale.width/2, this.scale.height/2 - 50);

                const card = this.add.nineslice(0, 0, 'card', 0, 1100, 300, 40, 40, 40, 40).setTint(0x1e293b);
                const sentence = this.add.text(0, -60, `"${data.s}"`, { 
                    fontFamily: 'Outfit', fontSize: '42px', fontWeight: '700', color: '#38bdf8', align: 'center', wordWrap: { width: 1000 } 
                }).setOrigin(0.5);
                const question = this.add.text(0, 60, data.q, { 
                    fontFamily: 'Outfit', fontSize: '32px', color: '#fff', align: 'center', wordWrap: { width: 1000 } 
                }).setOrigin(0.5);

                this.mainCont.add([card, sentence, question]);

                data.ops.forEach((op, i) => {
                    const btn = this.createOptionBtn(-400 + (i * 400), 250, op, i === data.ok, data);
                    this.mainCont.add(btn);
                });

                this.updateProgress();
            }

            updateProgress() {
                this.progressFill.clear().fillStyle(0x38bdf8).fillRoundedRect(this.scale.width/2 - 200, 45, 400 * (this.qIdx / 10), 10, 5);
            }

            createOptionBtn(x, y, txt, isOk, data) {
                const c = this.add.container(x, y);
                const bg = this.add.nineslice(0, 0, 'card', 0, 380, 140, 25, 25, 25, 25).setTint(0x334155);
                const t = this.add.text(0, 0, txt, { fontFamily: 'Outfit', fontSize: '26px', fontWeight: '600', color: '#fff', align: 'center', wordWrap: { width: 350 } }).setOrigin(0.5);
                c.add([bg, t]);
                c.setSize(380, 140).setInteractive().on('pointerdown', () => {
                    if (!this.isPaused) { this.isPaused = true; this.handleResult(isOk, bg, data); }
                });
                return c;
            }

            handleResult(win, bg, data) {
                bg.setTint(win ? 0x10b981 : 0xf43f5e);
                if (win) this.score += 100; else { this.lives--; this.lTxt.setText('â¤'.repeat(this.lives)); this.cameras.main.shake(200, 0.01); }
                this.sTxt.setText(`PTS: ${this.score}`);
                this.showFeedback(win, data);
            }

            showFeedback(win, data) {
                const overlay = this.add.graphics().fillStyle(0x020617, 0.8).fillRect(0, 0, this.scale.width, this.scale.height).setAlpha(0);
                this.tweens.add({ targets: overlay, alpha: 1, duration: 200 });

                const f = this.add.container(this.scale.width/2, this.scale.height/2);
                const fBg = this.add.nineslice(0, 0, 'card', 0, 1050, 580, 40, 40, 40, 40).setTint(0x0f172a);
                const fT = this.add.text(0, -200, win ? "ANÃLISIS CORRECTO" : "ERROR DETECTADO", { fontFamily: 'Outfit', fontSize: '56px', fontWeight: '900', color: win ? '#10b981' : '#f43f5e' }).setOrigin(0.5);
                const fD = this.add.text(0, -40, data.ana, { fontFamily: 'Outfit', fontSize: '28px', color: '#fff', align: 'center', wordWrap: { width: 950 } }).setOrigin(0.5);
                const fA = this.add.text(0, 110, data.adv, { fontFamily: 'Outfit', fontSize: '26px', fontStyle: 'italic', color: '#38bdf8', align: 'center', wordWrap: { width: 950 } }).setOrigin(0.5);
                
                const nextBtn = this.add.container(0, 230);
                const nBg = this.add.nineslice(0, 0, 'card', 0, 400, 90, 20, 20, 20, 20).setTint(0x38bdf8);
                const nT = this.add.text(0, 0, "CONTINUAR >", { fontFamily: 'Outfit', fontSize: '32px', fontWeight: '900', color: '#020617' }).setOrigin(0.5);
                nextBtn.add([nBg, nT]).setSize(400, 90).setInteractive().on('pointerdown', () => {
                    this.tweens.add({ targets: [this.mainCont, f, overlay], alpha: 0, duration: 200, onComplete: () => {
                        this.mainCont.destroy(); f.destroy(); overlay.destroy();
                        this.qIdx++; this.isPaused = false;
                        if (this.lives <= 0) this.scene.start('End', { s: this.score }); else this.showQuestion();
                    }});
                });

                f.add([fBg, fT, fD, fA, nextBtn]).setScale(0.8).setAlpha(0);
                this.tweens.add({ targets: f, alpha: 1, scale: 1, duration: 300, ease: 'Back.out' });
            }
        }

        class End extends Phaser.Scene {
            constructor() { super('End'); }
            create(d) {
                this.add.text(this.scale.width/2, this.scale.height*0.4, "RETO FINALIZADO", { fontFamily: 'Outfit', fontSize: '100px', fontWeight: '900', color: '#fff' }).setOrigin(0.5);
                this.add.text(this.scale.width/2, this.scale.height*0.55, `PTS TOTALES: ${d.s}`, { fontFamily: 'Outfit', fontSize: '60px', color: '#38bdf8' }).setOrigin(0.5);
                const b = this.add.text(this.scale.width/2, this.scale.height*0.75, "REINTENTAR", { 
                    fontFamily: 'Outfit', fontSize: '40px', fontWeight: '800', backgroundColor: '#38bdf8', padding: {x:60, y:30}, color: '#020617' 
                }).setOrigin(0.5).setInteractive().on('pointerdown', () => this.scene.start('Menu'));
            }
        }

        const config = {
            type: Phaser.AUTO, parent: 'game-container', width: 1280, height: 720,
            scale: { mode: Phaser.Scale.FIT, autoCenter: Phaser.Scale.CENTER_BOTH },
            scene: [Boot, Menu, Play, End]
        };
        new Phaser.Game(config);
    </script>
</body>
</html>